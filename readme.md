# Вычислительный кластер кафедры физики ВолгГТУ
_заметки админа_
## Как начать работать с кластером

1. Связаться с админом и попросить создать учётную запись.
2. После ответа админа зайти на кластер и выбрать новый пароль.
3. Ознакомиться ниже с порядком работы с системой обработки заданий.
4. …
5. PROFIT!

Для выполнения пункта 2 вам нужен ssh-клиент. В Linux с этим всё просто; в
Windows можно воспользоваться, например, Putty.

Для запуска графических приложений используйте программу X2GO client. Если вам
нужен доступ, например, на узел _tesla1_, то при подключении в качестве хоста
указывайте _tesla1_, а в качестве прокси &mdash; IP-адрес кластера.

## Система обработки заданий
Чтобы все не передрались за ресурсы, на кластере работает система обработки заданий. Если вы хотите запустить программу на кластере, то вам придётся сделать следующее:
1. смотрим, какие узлы доступны при помощи команды `pbsnodes`
2. если _newton_ или _hooke_ свободны (`state = free`), то идём дальше; если нет, то лучше связаться с админом
3. создаём файл `task.pbs` с описанием задачи:
```bash
#PBS -l nodes=newton:ppn=8,walltime=150:00:00
#PBS -N your_job_name
#PBS -q erlang
#PBS -S /bin/bash
#PBS -m abe
#PBS -V
cd /path/to/executable
OMP_NUM_THREADS=8 ./your_prog
```
4. отправляем задачу в очередь командой `qsub task.pbs`
5. наблюдаем за выполнением задачи при помощи `qstat`

## Состав кластера
На текущий момент кластер насчитывает 6 узлов:

|  имя     |                ядра           |  ОЗУ  | описание |
|:--------:|:-----------------------------:|:-----:|:--------:|
| _newton_ | 8 × Intel Xeon E5420 2.5 GHz  | 8 GB  | узел общего назначения |
| _hooke_  | 8 × Intel Xeon E5420 2.5 GHz  | 8 GB  | сиамский близнец newton'а |
| _ohm_    | 8 × Intel Xeon E5420 2.5 GHz  | 16 GB | если вам не хватает памяти или нет времени ждать |
| _dirac_  | 8 × Intel Xeon E5420 2.5 GHz  | 32 GB | предназначен для расчётов, жадных до памяти |
| _tesla1_ | 32 × AMD Opteron 6272 2.1 GHz | 64 GB | оборудован NVidia Tesla C2050 для расчётов на GPU |
| _master_ | 4 × Intel Xeon E5420 2.5 GHz  | 16 GB | использовать в случае крайней необходимости |
